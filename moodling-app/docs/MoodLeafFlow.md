# Mood Leaf System Flow

Visual guide to how all services connect, how data flows, and how the system learns.

---

## Table of Contents
1. [System Overview](#system-overview)
2. [Current State (NOW)](#current-state-now)
3. [Future State (GOAL)](#future-state-goal)
4. [Roadmap: How We Get There](#roadmap-how-we-get-there)
5. [Service Interconnections](#service-interconnections)
6. [User Message Flow](#user-message-flow)
7. [Learning & Adaptation Flow](#learning--adaptation-flow)
8. [LLM Input/Output](#llm-inputoutput)
9. [Data Flow Diagram](#data-flow-diagram)
10. [Training Pipeline](#training-pipeline)
11. [What Training Data Trains](#what-training-data-trains)

---

**Last Updated:** January 2025
**Document Version:** 1.1
**Status:** Living Document - Update regularly as milestones are reached

---

## System Overview

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                              MOOD LEAF SYSTEM                                  â•‘
â•‘                                                                                â•‘
â•‘   "A coaching app that learns how humans work and adapts to each mind"        â•‘
â•‘                                                                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â•‘
â•‘   â”‚   USER LAYER    â”‚     â”‚  INTELLIGENCE   â”‚     â”‚    AI LAYER     â”‚        â•‘
â•‘   â”‚                 â”‚     â”‚     LAYER       â”‚     â”‚                 â”‚        â•‘
â•‘   â”‚ â€¢ UI Components â”‚â”€â”€â”€â”€â–¶â”‚ â€¢ Services      â”‚â”€â”€â”€â”€â–¶â”‚ â€¢ Claude API    â”‚        â•‘
â•‘   â”‚ â€¢ Onboarding    â”‚     â”‚ â€¢ Kernel        â”‚     â”‚ â€¢ Local Scorer  â”‚        â•‘
â•‘   â”‚ â€¢ Journal       â”‚â—€â”€â”€â”€â”€â”‚ â€¢ Memory        â”‚â—€â”€â”€â”€â”€â”‚ â€¢ (Future LLM)  â”‚        â•‘
â•‘   â”‚ â€¢ Coach Chat    â”‚     â”‚ â€¢ Profiles      â”‚     â”‚                 â”‚        â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â•‘
â•‘                                                                                â•‘
â•‘                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â•‘
â•‘                           â”‚  LEARNING LOOP  â”‚                                 â•‘
â•‘                           â”‚                 â”‚                                 â•‘
â•‘                           â”‚ Every interaction                                 â”‚
â•‘                           â”‚ improves the next                                 â”‚
â•‘                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â•‘
â•‘                                                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Current State (NOW)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           CURRENT ARCHITECTURE                               â•‘
â•‘                              (January 2025)                                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘   USER DEVICE                                           CLOUD                â•‘
â•‘   â•â•â•â•â•â•â•â•â•â•â•                                           â•â•â•â•â•                â•‘
â•‘                                                                              â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘   â”‚                                          â”‚    â”‚                    â”‚   â•‘
â•‘   â”‚   ğŸ“± React Native App                    â”‚    â”‚   ğŸ¤– CLAUDE API    â”‚   â•‘
â•‘   â”‚                                          â”‚    â”‚                    â”‚   â•‘
â•‘   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚   â€¢ Conversations  â”‚   â•‘
â•‘   â”‚   â”‚        Core Principle          â”‚    â”‚    â”‚   â€¢ Scoring        â”‚   â•‘
â•‘   â”‚   â”‚           Kernel               â”‚    â”‚    â”‚   â€¢ Compression    â”‚   â•‘
â•‘   â”‚   â”‚     (The Constitution)         â”‚    â”‚    â”‚                    â”‚   â•‘
â•‘   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚   100% of AI work  â”‚   â•‘
â•‘   â”‚              â”‚                          â”‚    â”‚   happens here     â”‚   â•‘
â•‘   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚    â”‚                    â”‚   â•‘
â•‘   â”‚   â–¼          â–¼          â–¼              â”‚â”€â”€â”€â–¶â”‚                    â”‚   â•‘
â•‘   â”‚ â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚    â”‚                    â”‚   â•‘
â•‘   â”‚ â”‚Cog  â”‚  â”‚Neuro    â”‚  â”‚Social   â”‚     â”‚â—€â”€â”€â”€â”‚                    â”‚   â•‘
â•‘   â”‚ â”‚Profiâ”‚  â”‚Diff     â”‚  â”‚Connect  â”‚     â”‚    â”‚                    â”‚   â•‘
â•‘   â”‚ â”‚Serviceâ”‚ â”‚Service â”‚  â”‚Health   â”‚     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘   â”‚ â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                              â•‘
â•‘   â”‚                                        â”‚                              â•‘
â•‘   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                              â•‘
â•‘   â”‚   â”‚        LOCAL STORAGE           â”‚  â”‚                              â•‘
â•‘   â”‚   â”‚                                â”‚  â”‚                              â•‘
â•‘   â”‚   â”‚  â€¢ Cognitive Profile           â”‚  â”‚                              â•‘
â•‘   â”‚   â”‚  â€¢ Memory Tiers (all data)     â”‚  â”‚                              â•‘
â•‘   â”‚   â”‚  â€¢ Scored Conversations        â”‚  â”‚                              â•‘
â•‘   â”‚   â”‚  â€¢ Interview Insights          â”‚  â”‚                              â•‘
â•‘   â”‚   â”‚  â€¢ Connection Health           â”‚  â”‚                              â•‘
â•‘   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                              â•‘
â•‘   â”‚                                        â”‚                              â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â•‘
â•‘                                                                              â•‘
â•‘   CURRENT FLOW:                                                             â•‘
â•‘   User message â”€â”€â–¶ Local context assembly â”€â”€â–¶ Claude API â”€â”€â–¶ Response      â•‘
â•‘                                                    â”‚                        â•‘
â•‘                                                    â–¼                        â•‘
â•‘                                               Score saved                   â•‘
â•‘                                            (training data)                  â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**What Works Now:**
- âœ… Cognitive profile onboarding
- âœ… Neurological differences detection
- âœ… Core Principle Kernel (constitutional constraints)
- âœ… Social connection health monitoring
- âœ… Human-ness scoring (local + Claude)
- âœ… Memory tiers (all local)
- âœ… Training data collection

**Dependencies on Claude:**
- ğŸ”´ ALL conversations
- ğŸ”´ Response quality scoring
- ğŸ”´ Memory compression
- ğŸ”´ Crisis detection

---

## Future State (GOAL)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           TARGET ARCHITECTURE                                â•‘
â•‘                           (After Phase 5)                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘   USER DEVICE                      PRIVATE SERVER           CLOUD            â•‘
â•‘   â•â•â•â•â•â•â•â•â•â•â•                      â•â•â•â•â•â•â•â•â•â•â•â•â•â•           â•â•â•â•â•            â•‘
â•‘                                                                              â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘   â”‚                  â”‚    â”‚                    â”‚    â”‚                  â”‚   â•‘
â•‘   â”‚  ğŸ“± React Native â”‚    â”‚  ğŸ–¥ï¸ LOCAL LLM     â”‚    â”‚  ğŸ¤– CLAUDE API   â”‚   â•‘
â•‘   â”‚                  â”‚    â”‚                    â”‚    â”‚                  â”‚   â•‘
â•‘   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚  Mistral 7B        â”‚    â”‚  Specialist      â”‚   â•‘
â•‘   â”‚  â”‚ Local      â”‚ â”‚    â”‚  Fine-tuned on:    â”‚    â”‚  Use Only:       â”‚   â•‘
â•‘   â”‚  â”‚ Scorer     â”‚ â”‚    â”‚  â€¢ Our data        â”‚    â”‚                  â”‚   â•‘
â•‘   â”‚  â”‚ (On Device)â”‚ â”‚    â”‚  â€¢ Interviews      â”‚    â”‚  â€¢ Crisis        â”‚   â•‘
â•‘   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚  â€¢ Corrections     â”‚    â”‚  â€¢ Novel cases   â”‚   â•‘
â•‘   â”‚                  â”‚    â”‚                    â”‚    â”‚  â€¢ Complex       â”‚   â•‘
â•‘   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚  Handles 90% of    â”‚    â”‚  â€¢ Training      â”‚   â•‘
â•‘   â”‚  â”‚ Principle  â”‚ â”‚    â”‚  conversations     â”‚    â”‚    generation    â”‚   â•‘
â•‘   â”‚  â”‚ Kernel     â”‚ â”‚    â”‚                    â”‚    â”‚                  â”‚   â•‘
â•‘   â”‚  â”‚ Checks     â”‚ â”‚    â”‚                    â”‚    â”‚  5-10% of        â”‚   â•‘
â•‘   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚                    â”‚    â”‚  API calls       â”‚   â•‘
â•‘   â”‚                  â”‚    â”‚                    â”‚    â”‚                  â”‚   â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘            â”‚                        â”‚                        â”‚              â•‘
â•‘            â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚              â•‘
â•‘            â”‚         â”‚              â”‚              â”‚         â”‚              â•‘
â•‘            â–¼         â–¼              â–¼              â–¼         â–¼              â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘   â”‚                                                                      â”‚ â•‘
â•‘   â”‚                          DECISION ROUTER                             â”‚ â•‘
â•‘   â”‚                                                                      â”‚ â•‘
â•‘   â”‚   User Message                                                       â”‚ â•‘
â•‘   â”‚        â”‚                                                             â”‚ â•‘
â•‘   â”‚        â–¼                                                             â”‚ â•‘
â•‘   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚ â•‘
â•‘   â”‚   â”‚ Crisis?     â”‚â”€â”€â”€Yesâ”€â”€â–¶ Claude                                   â”‚ â•‘
â•‘   â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚ â•‘
â•‘   â”‚          â”‚ No                                                        â”‚ â•‘
â•‘   â”‚          â–¼                                                           â”‚ â•‘
â•‘   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚ â•‘
â•‘   â”‚   â”‚ Novel case? â”‚â”€â”€â”€Yesâ”€â”€â–¶ Claude                                   â”‚ â•‘
â•‘   â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚ â•‘
â•‘   â”‚          â”‚ No                                                        â”‚ â•‘
â•‘   â”‚          â–¼                                                           â”‚ â•‘
â•‘   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚ â•‘
â•‘   â”‚   â”‚ Confident?  â”‚â”€â”€â”€Noâ”€â”€â”€â–¶ Claude                                   â”‚ â•‘
â•‘   â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚ â•‘
â•‘   â”‚          â”‚ Yes                                                       â”‚ â•‘
â•‘   â”‚          â–¼                                                           â”‚ â•‘
â•‘   â”‚     LOCAL LLM â”€â”€â–¶ Local Scorer â”€â”€â–¶ Kernel Check â”€â”€â–¶ Response        â”‚ â•‘
â•‘   â”‚                                                                      â”‚ â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**What Changes:**
- ğŸŸ¢ 90% of conversations handled by local LLM
- ğŸŸ¢ Local scorer runs on device
- ğŸŸ¢ Claude only for specialist cases
- ğŸŸ¢ 90% cost reduction
- ğŸŸ¢ Faster responses
- ğŸŸ¢ Works offline (basic)

---

## Roadmap: How We Get There

This is the living roadmap from NOW to GOAL. Update this section as milestones are reached.

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          ROADMAP OVERVIEW                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘   NOW                                                                        â•‘
â•‘    â”‚                                                                         â•‘
â•‘    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘    â”œâ”€â”€â”‚ MILESTONE 1: Foundation Services              âœ… COMPLETE       â”‚   â•‘
â•‘    â”‚  â”‚ â€¢ Core Principle Kernel                                         â”‚   â•‘
â•‘    â”‚  â”‚ â€¢ Cognitive Profile Service                                     â”‚   â•‘
â•‘    â”‚  â”‚ â€¢ Neurological Differences Service                              â”‚   â•‘
â•‘    â”‚  â”‚ â€¢ Social Connection Health Service                              â”‚   â•‘
â•‘    â”‚  â”‚ â€¢ Human Score Service                                           â”‚   â•‘
â•‘    â”‚  â”‚ â€¢ Memory Tier Service                                           â”‚   â•‘
â•‘    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘    â”‚                                                                         â•‘
â•‘    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘    â”œâ”€â”€â”‚ MILESTONE 2: Training Infrastructure          âœ… COMPLETE       â”‚   â•‘
â•‘    â”‚  â”‚ â€¢ Training Data Service (interview insights, corrections)       â”‚   â•‘
â•‘    â”‚  â”‚ â€¢ Training Admin UI (import, dashboard, export)                 â”‚   â•‘
â•‘    â”‚  â”‚ â€¢ Human-ness scoring (local + Claude background)               â”‚   â•‘
â•‘    â”‚  â”‚ â€¢ Documentation (TRAINING_MODULE.md, MoodLeafFlow.md)           â”‚   â•‘
â•‘    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘    â”‚                                                                         â•‘
â•‘    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘    â”œâ”€â”€â”‚ MILESTONE 3: Data Collection Phase            ğŸ”„ IN PROGRESS    â”‚   â•‘
â•‘    â”‚  â”‚ Requirements:                                                   â”‚   â•‘
â•‘    â”‚  â”‚   â–¡ 500+ Claude-scored conversations                            â”‚   â•‘
â•‘    â”‚  â”‚   â–¡ 20+ approved interview insights                             â”‚   â•‘
â•‘    â”‚  â”‚   â–¡ 10+ cognitive profile variations                            â”‚   â•‘
â•‘    â”‚  â”‚                                                                 â”‚   â•‘
â•‘    â”‚  â”‚ What needs to happen:                                           â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Deploy app to beta users                                    â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Conduct user interviews â†’ import insights                   â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Collect and score real conversations                        â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Validate scoring consistency                                â”‚   â•‘
â•‘    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘    â”‚                                                                         â•‘
â•‘    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘    â”œâ”€â”€â”‚ MILESTONE 4: Local Scorer Training            â¬œ PENDING        â”‚   â•‘
â•‘    â”‚  â”‚ Requirements:                                                   â”‚   â•‘
â•‘    â”‚  â”‚   â–¡ Complete Milestone 3                                        â”‚   â•‘
â•‘    â”‚  â”‚   â–¡ Export training data as JSON/JSONL                          â”‚   â•‘
â•‘    â”‚  â”‚   â–¡ Train DistilBERT/Custom classifier                          â”‚   â•‘
â•‘    â”‚  â”‚   â–¡ Achieve 85%+ correlation with Claude scores                 â”‚   â•‘
â•‘    â”‚  â”‚                                                                 â”‚   â•‘
â•‘    â”‚  â”‚ What needs to happen:                                           â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Set up ML training environment (Python/PyTorch)             â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Design scorer architecture (input: msg+response+profile)    â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Train and validate model                                    â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Export to CoreML (iOS) / ONNX (cross-platform)              â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Integrate on-device scorer                                  â”‚   â•‘
â•‘    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘    â”‚                                                                         â•‘
â•‘    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘    â”œâ”€â”€â”‚ MILESTONE 5: Response Ranking System          â¬œ PENDING        â”‚   â•‘
â•‘    â”‚  â”‚ Requirements:                                                   â”‚   â•‘
â•‘    â”‚  â”‚   â–¡ Complete Milestone 4 (local scorer working)                 â”‚   â•‘
â•‘    â”‚  â”‚   â–¡ 1000+ Claude-scored conversations                           â”‚   â•‘
â•‘    â”‚  â”‚                                                                 â”‚   â•‘
â•‘    â”‚  â”‚ What needs to happen:                                           â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Generate multiple response candidates                       â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Score each with local scorer                                â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Select highest-scoring response                             â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Validate selection quality vs Claude-only                   â”‚   â•‘
â•‘    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘    â”‚                                                                         â•‘
â•‘    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘    â”œâ”€â”€â”‚ MILESTONE 6: Local LLM Fine-tuning            â¬œ PENDING        â”‚   â•‘
â•‘    â”‚  â”‚ Requirements:                                                   â”‚   â•‘
â•‘    â”‚  â”‚   â–¡ 2000+ Claude-scored conversations                           â”‚   â•‘
â•‘    â”‚  â”‚   â–¡ 50+ approved interview insights                             â”‚   â•‘
â•‘    â”‚  â”‚   â–¡ 100+ coach corrections (badâ†’good pairs)                     â”‚   â•‘
â•‘    â”‚  â”‚                                                                 â”‚   â•‘
â•‘    â”‚  â”‚ What needs to happen:                                           â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Select base model (Mistral 7B recommended)                  â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Prepare training dataset (JSONL format)                     â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Run SFT (Supervised Fine-Tuning) on high-scoring examples   â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Run DPO (Direct Preference Optimization) on correction pairs â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Evaluate model quality vs Claude                            â”‚   â•‘
â•‘    â”‚  â”‚   â€¢ Deploy to private server                                    â”‚   â•‘
â•‘    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘    â”‚                                                                         â•‘
â•‘    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘    â””â”€â”€â”‚ MILESTONE 7: Claude as Specialist             â¬œ GOAL           â”‚   â•‘
â•‘       â”‚                                                                 â”‚   â•‘
â•‘       â”‚ Final state:                                                    â”‚   â•‘
â•‘       â”‚   â€¢ Local LLM handles 90% of conversations                      â”‚   â•‘
â•‘       â”‚   â€¢ Local scorer validates every response                       â”‚   â•‘
â•‘       â”‚   â€¢ Claude only called for:                                     â”‚   â•‘
â•‘       â”‚     - Crisis situations                                         â”‚   â•‘
â•‘       â”‚     - Novel/unusual cases                                       â”‚   â•‘
â•‘       â”‚     - Low-confidence local responses                            â”‚   â•‘
â•‘       â”‚     - Training data generation                                  â”‚   â•‘
â•‘       â”‚                                                                 â”‚   â•‘
â•‘       â”‚ Success metrics:                                                â”‚   â•‘
â•‘       â”‚   â€¢ 90%+ user satisfaction with local LLM                       â”‚   â•‘
â•‘       â”‚   â€¢ 90%+ cost reduction vs Claude-only                          â”‚   â•‘
â•‘       â”‚   â€¢ <2s average response time                                   â”‚   â•‘
â•‘       â”‚   â€¢ Zero safety incidents                                       â”‚   â•‘
â•‘       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                                                              â•‘
â•‘   GOAL                                                                       â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Current Milestone Details

**Where We Are: Milestone 3 (Data Collection)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        MILESTONE 3 STATUS                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   DATA COLLECTION TARGETS:                                                   â”‚
â”‚                                                                              â”‚
â”‚   Claude-Scored Conversations                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚   â”‚ Current: ???     Target: 500               â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘       â”‚
â”‚   â”‚ Check: Admin Panel â†’ Training â†’ Dashboard  â”‚                            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                                              â”‚
â”‚   Approved Interview Insights                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚   â”‚ Current: ???     Target: 20                â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘       â”‚
â”‚   â”‚ Check: Admin Panel â†’ Training â†’ Insights   â”‚                            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                                              â”‚
â”‚   Unique Cognitive Profiles                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚   â”‚ Current: ???     Target: 10                â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘       â”‚
â”‚   â”‚ Check: From unique users with diverse modes â”‚                            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                                              â”‚
â”‚   IMMEDIATE NEXT ACTIONS:                                                    â”‚
â”‚                                                                              â”‚
â”‚   1. â–¡ Deploy web/mobile app for beta testing                               â”‚
â”‚   2. â–¡ Recruit 10-20 beta users with diverse backgrounds                    â”‚
â”‚   3. â–¡ Conduct user interviews (30-60 min each)                             â”‚
â”‚   4. â–¡ Import interview insights via Admin Panel                            â”‚
â”‚   5. â–¡ Enable conversation scoring in production                            â”‚
â”‚   6. â–¡ Monitor Training Dashboard for progress                              â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Phase Progression Map

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     PHASE PROGRESSION                                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘   PHASE 1                PHASE 2              PHASE 3              PHASE 4   â•‘
â•‘   Data Collection        Local Scorer         Response Ranking     Local LLM â•‘
â•‘                                                                              â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â•‘
â•‘   â”‚          â”‚          â”‚          â”‚         â”‚          â”‚         â”‚        â”‚â•‘
â•‘   â”‚  Claude  â”‚â”€â”€scoresâ”€â”€â–¶ Training â”‚â”€â”€trainsâ”€â–¶  Local   â”‚â”€â”€usedâ”€â”€â”€â–¶  Fine- â”‚â•‘
â•‘   â”‚  scores  â”‚          â”‚  data    â”‚         â”‚  scorer  â”‚   by    â”‚  tuned â”‚â•‘
â•‘   â”‚  every   â”‚          â”‚  export  â”‚         â”‚  model   â”‚         â”‚  LLM   â”‚â•‘
â•‘   â”‚  convo   â”‚          â”‚          â”‚         â”‚          â”‚         â”‚        â”‚â•‘
â•‘   â”‚          â”‚          â”‚          â”‚         â”‚          â”‚         â”‚        â”‚â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â•‘
â•‘        â”‚                                           â”‚                    â”‚    â•‘
â•‘        â”‚                                           â”‚                    â”‚    â•‘
â•‘        â–¼                                           â–¼                    â–¼    â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘   â”‚Interview â”‚                              â”‚ Ranking  â”‚         â”‚ Claude â”‚ â•‘
â•‘   â”‚ insights â”‚                              â”‚ selects  â”‚         â”‚   as   â”‚ â•‘
â•‘   â”‚ imported â”‚                              â”‚  best    â”‚         â”‚special-â”‚ â•‘
â•‘   â”‚          â”‚                              â”‚ response â”‚         â”‚  ist   â”‚ â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                              â•‘
â•‘   NOW â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–¶ GOAL    â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Tech Stack Evolution

| Phase | AI Stack | Cost per Conversation | Latency |
|-------|----------|----------------------|---------|
| **Now (Phase 1)** | Claude API only | ~$0.005 | 2-4s |
| Phase 2 | Claude + Local Scorer | ~$0.005 | 2-4s |
| Phase 3 | Claude + Ranking | ~$0.010 (2x candidates) | 3-5s |
| **Goal (Phase 4)** | Local LLM + Claude specialist | ~$0.0005 | <2s |

### Interview Data Collection Guide

To reach the training data goals, conduct interviews and import insights:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   INTERVIEW â†’ INSIGHT FLOW                                   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘   1. CONDUCT INTERVIEW                                                       â•‘
â•‘   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                       â•‘
â•‘   â€¢ 30-60 min call with beta user                                           â•‘
â•‘   â€¢ Record with consent (or take detailed notes)                            â•‘
â•‘   â€¢ Ask about:                                                              â•‘
â•‘     - How they experience emotions                                          â•‘
â•‘     - What helps when they're struggling                                    â•‘
â•‘     - How they prefer to be talked to                                       â•‘
â•‘     - Their cognitive patterns (visual thinker? verbal?)                    â•‘
â•‘     - Their energy rhythms (morning person? burst/crash?)                   â•‘
â•‘                                                                              â•‘
â•‘   2. EXTRACT INSIGHTS                                                        â•‘
â•‘   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                         â•‘
â•‘   â€¢ Listen/read through the interview                                       â•‘
â•‘   â€¢ Identify patterns that apply beyond this one person                     â•‘
â•‘   â€¢ Note direct quotes that capture the insight                             â•‘
â•‘   â€¢ Determine coaching implications                                         â•‘
â•‘                                                                              â•‘
â•‘   3. IMPORT VIA ADMIN PANEL                                                  â•‘
â•‘   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â•‘
â•‘   â€¢ Go to Admin â†’ Training â†’ Import                                         â•‘
â•‘   â€¢ Fill out insight form:                                                  â•‘
â•‘     - Category (cognitive, emotional, communication, etc.)                  â•‘
â•‘     - Title (short summary)                                                 â•‘
â•‘     - Insight (the learning)                                                â•‘
â•‘     - Direct quotes (evidence)                                              â•‘
â•‘     - Coaching implications (how coach should adapt)                        â•‘
â•‘     - Confidence level (hypothesis â†’ observed â†’ validated)                  â•‘
â•‘                                                                              â•‘
â•‘   4. REVIEW & APPROVE                                                        â•‘
â•‘   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                        â•‘
â•‘   â€¢ Insights start as "pending"                                             â•‘
â•‘   â€¢ Review in Insights tab                                                  â•‘
â•‘   â€¢ Approve high-quality, generalizable insights                            â•‘
â•‘   â€¢ Reject duplicates or too-specific insights                              â•‘
â•‘                                                                              â•‘
â•‘   5. INSIGHTS IMPROVE COACHING                                               â•‘
â•‘   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â•‘
â•‘   â€¢ Approved insights inform:                                               â•‘
â•‘     - Core Principle Kernel (new constraints/principles)                    â•‘
â•‘     - Training data for local LLM                                           â•‘
â•‘     - Response generation guidelines                                        â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Service Interconnections

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        SERVICE DEPENDENCY MAP                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â•‘
â•‘                    â”‚     corePrincipleKernel.ts     â”‚                       â•‘
â•‘                    â”‚       (THE CONSTITUTION)        â”‚                       â•‘
â•‘                    â”‚                                 â”‚                       â•‘
â•‘                    â”‚  â€¢ Core Beliefs (17)            â”‚                       â•‘
â•‘                    â”‚  â€¢ Hard Constraints (12)        â”‚                       â•‘
â•‘                    â”‚  â€¢ Soft Principles (9)          â”‚                       â•‘
â•‘                    â”‚                                 â”‚                       â•‘
â•‘                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â•‘
â•‘                                    â”‚                                         â•‘
â•‘              EVERY SERVICE CHECKS AGAINST THE KERNEL                        â•‘
â•‘                                    â”‚                                         â•‘
â•‘         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â•‘
â•‘         â”‚                         â”‚                         â”‚               â•‘
â•‘         â–¼                         â–¼                         â–¼               â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â•‘
â•‘ â”‚ claudeAPI     â”‚      â”‚ conversation    â”‚      â”‚ socialConnectionâ”‚        â•‘
â•‘ â”‚ Service       â”‚â—€â”€â”€â”€â”€â–¶â”‚ Controller      â”‚â—€â”€â”€â”€â”€â–¶â”‚ HealthService   â”‚        â•‘
â•‘ â”‚               â”‚      â”‚                 â”‚      â”‚                 â”‚        â•‘
â•‘ â”‚ â€¢ Build       â”‚      â”‚ â€¢ Directives    â”‚      â”‚ â€¢ Isolation     â”‚        â•‘
â•‘ â”‚   system      â”‚      â”‚ â€¢ Timing        â”‚      â”‚   detection     â”‚        â•‘
â•‘ â”‚   prompts     â”‚      â”‚ â€¢ Validation    â”‚      â”‚ â€¢ Nudges        â”‚        â•‘
â•‘ â”‚ â€¢ Send to API â”‚      â”‚ â€¢ Scoring       â”‚      â”‚ â€¢ Resources     â”‚        â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â•‘
â•‘         â”‚                       â”‚                        â”‚                  â•‘
â•‘         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚                  â•‘
â•‘         â”‚              â”‚                 â”‚               â”‚                  â•‘
â•‘         â–¼              â–¼                 â–¼               â–¼                  â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â•‘
â•‘ â”‚ humanScore    â”‚ â”‚ cognitive   â”‚ â”‚ neuro       â”‚ â”‚ trainingData    â”‚      â•‘
â•‘ â”‚ Service       â”‚ â”‚ Profile     â”‚ â”‚ Differences â”‚ â”‚ Service         â”‚      â•‘
â•‘ â”‚               â”‚ â”‚ Service     â”‚ â”‚ Service     â”‚ â”‚                 â”‚      â•‘
â•‘ â”‚ â€¢ Score       â”‚ â”‚             â”‚ â”‚             â”‚ â”‚ â€¢ Insights      â”‚      â•‘
â•‘ â”‚   responses   â”‚ â”‚ â€¢ Profile   â”‚ â”‚ â€¢ Aphantasiaâ”‚ â”‚ â€¢ Corrections   â”‚      â•‘
â•‘ â”‚ â€¢ Collect     â”‚ â”‚ â€¢ Rhythms   â”‚ â”‚ â€¢ Inner     â”‚ â”‚ â€¢ Export        â”‚      â•‘
â•‘ â”‚   training    â”‚ â”‚ â€¢ Modes     â”‚ â”‚   monologue â”‚ â”‚                 â”‚      â•‘
â•‘ â”‚   data        â”‚ â”‚ â€¢ Onboard   â”‚ â”‚ â€¢ Detection â”‚ â”‚                 â”‚      â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â•‘
â•‘         â”‚                 â”‚               â”‚               â”‚                 â•‘
â•‘         â”‚                 â”‚               â”‚               â”‚                 â•‘
â•‘         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â•‘
â•‘                                   â”‚                                         â•‘
â•‘                                   â–¼                                         â•‘
â•‘                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â•‘
â•‘                    â”‚       memoryTierService.ts     â”‚                       â•‘
â•‘                    â”‚                                â”‚                       â•‘
â•‘                    â”‚  Short-term â”‚ Mid-term â”‚ Long  â”‚                       â•‘
â•‘                    â”‚  (session)  â”‚ (weekly) â”‚ (core)â”‚                       â•‘
â•‘                    â”‚                                â”‚                       â•‘
â•‘                    â”‚     ALL DATA STORED LOCALLY    â”‚                       â•‘
â•‘                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Service Communication Table

| Service A | Talks To | What It Gets |
|-----------|----------|--------------|
| claudeAPIService | cognitiveProfileService | Profile context for prompts |
| claudeAPIService | neurologicalDifferencesService | Neuro constraints |
| claudeAPIService | socialConnectionHealthService | Connection context |
| claudeAPIService | corePrincipleKernel | Principle context |
| conversationController | All profile services | Response directives |
| conversationController | humanScoreService | Quality scoring |
| conversationController | corePrincipleKernel | Constraint validation |
| socialConnectionHealthService | corePrincipleKernel | Connection constraints |
| trainingDataService | humanScoreService | Scored conversations |
| trainingDataService | (external) | Interview insights |

---

## User Message Flow

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    COMPLETE MESSAGE FLOW (CURRENT)                           â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘   USER                                                                       â•‘
â•‘     â”‚                                                                        â•‘
â•‘     â”‚  "I've been anxious all week and can't focus"                         â•‘
â•‘     â”‚                                                                        â•‘
â•‘     â–¼                                                                        â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚  1. INPUT ANALYSIS                                                      â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â”‚  inputAnalysisService.ts                                                â”‚ â•‘
â•‘ â”‚     â”‚                                                                   â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ Threat detection (none found)                                  â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ Crisis detection (none found)                                  â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ Extract mood: "anxious"                                        â”‚ â•‘
â•‘ â”‚     â””â”€â”€â–¶ Extract energy: "low" (can't focus)                            â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                              â”‚                                               â•‘
â•‘                              â–¼                                               â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚  2. SOCIAL CONNECTION CHECK                                             â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â”‚  socialConnectionHealthService.ts                                       â”‚ â•‘
â•‘ â”‚     â”‚                                                                   â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ Scan for social mentions (none)                                â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ Scan for isolation signals (none explicit)                     â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ Update isolation level: unchanged                              â”‚ â•‘
â•‘ â”‚     â””â”€â”€â–¶ Should nudge toward connection? Not yet                        â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                              â”‚                                               â•‘
â•‘                              â–¼                                               â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚  3. CONTEXT ASSEMBLY                                                    â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â”‚  claudeAPIService.ts calls:                                             â”‚ â•‘
â•‘ â”‚     â”‚                                                                   â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ cognitiveProfileService                                        â”‚ â•‘
â•‘ â”‚     â”‚      â””â”€â”€â–¶ "User is conceptual_systems thinker"                    â”‚ â•‘
â•‘ â”‚     â”‚      â””â”€â”€â–¶ "Has burst_recovery rhythm"                             â”‚ â•‘
â•‘ â”‚     â”‚      â””â”€â”€â–¶ "Needs validation first"                                â”‚ â•‘
â•‘ â”‚     â”‚                                                                   â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ neurologicalDifferencesService                                 â”‚ â•‘
â•‘ â”‚     â”‚      â””â”€â”€â–¶ "Has inner monologue: yes"                              â”‚ â•‘
â•‘ â”‚     â”‚      â””â”€â”€â–¶ "Mental imagery: typical"                               â”‚ â•‘
â•‘ â”‚     â”‚                                                                   â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ memoryTierService                                              â”‚ â•‘
â•‘ â”‚     â”‚      â””â”€â”€â–¶ "Last session: talked about work stress"                â”‚ â•‘
â•‘ â”‚     â”‚      â””â”€â”€â–¶ "Long-term: struggles with anxiety"                     â”‚ â•‘
â•‘ â”‚     â”‚                                                                   â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ socialConnectionHealthService                                  â”‚ â•‘
â•‘ â”‚     â”‚      â””â”€â”€â–¶ "Isolation level: mild"                                 â”‚ â•‘
â•‘ â”‚     â”‚      â””â”€â”€â–¶ "Has therapist: no"                                     â”‚ â•‘
â•‘ â”‚     â”‚                                                                   â”‚ â•‘
â•‘ â”‚     â””â”€â”€â–¶ corePrincipleKernel                                            â”‚ â•‘
â•‘ â”‚            â””â”€â”€â–¶ "Core beliefs context"                                  â”‚ â•‘
â•‘ â”‚            â””â”€â”€â–¶ "Absolute constraints"                                  â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                              â”‚                                               â•‘
â•‘                              â–¼                                               â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚  4. RESPONSE DIRECTIVES                                                 â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â”‚  conversationController.ts generates:                                   â”‚ â•‘
â•‘ â”‚     â”‚                                                                   â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ artificialDelay: 1500ms (heavy topic)                          â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ maxLength: brief (low energy user)                             â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ tone: gentle                                                   â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ validateFirst: true                                            â”‚ â•‘
â•‘ â”‚     â””â”€â”€â–¶ avoidVisualization: false (user can visualize)                 â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                              â”‚                                               â•‘
â•‘                              â–¼                                               â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚  5. CLAUDE API CALL                                                     â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â”‚  SYSTEM PROMPT:                                                         â”‚ â•‘
â•‘ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â•‘
â•‘ â”‚  â”‚ === CORE PRINCIPLES ===                                         â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ Every mind works differently...                                 â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ Low phases are integration, not failure...                      â”‚   â”‚ â•‘
â•‘ â”‚  â”‚                                                                 â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ === HUMAN CONNECTION ===                                        â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ You are ONE tool in a full life...                              â”‚   â”‚ â•‘
â•‘ â”‚  â”‚                                                                 â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ === THIS USER ===                                               â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ Conceptual systems thinker                                      â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ Burst/recovery rhythm                                           â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ Needs validation before advice                                  â”‚   â”‚ â•‘
â•‘ â”‚  â”‚                                                                 â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ === CONSTRAINTS ===                                             â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ NEVER diagnose conditions                                       â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ NEVER dismiss distress                                          â”‚   â”‚ â•‘
â•‘ â”‚  â”‚                                                                 â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ === DIRECTIVES ===                                              â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ Keep response brief (user is low energy)                        â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ Validate feelings first                                         â”‚   â”‚ â•‘
â•‘ â”‚  â”‚ Gentle tone                                                     â”‚   â”‚ â•‘
â•‘ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â”‚  USER: "I've been anxious all week and can't focus"                    â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â”‚  CLAUDE RESPONSE:                                                       â”‚ â•‘
â•‘ â”‚  "A week of anxiety is exhausting. What's been weighing on you?"       â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                              â”‚                                               â•‘
â•‘                              â–¼                                               â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚  6. RESPONSE VALIDATION                                                 â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â”‚  corePrincipleKernel.validateCoachResponse()                            â”‚ â•‘
â•‘ â”‚     â”‚                                                                   â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ Check NO_VISUALIZATION_FOR_APHANTASIA: PASS                    â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ Check NO_CRISIS_DISMISSAL: PASS                                â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ Check NO_MEDICAL_DIAGNOSIS: PASS                               â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ Check MUST_REFER_FOR_SEVERE_ISOLATION: N/A (not severe)        â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ Check soft: VALIDATE_BEFORE_ADVISE: PASS (validated first)     â”‚ â•‘
â•‘ â”‚     â””â”€â”€â–¶ RESULT: canSend = true                                         â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                              â”‚                                               â•‘
â•‘                              â–¼                                               â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚  7. SCORING & LEARNING                                                  â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â”‚  humanScoreService.ts                                                   â”‚ â•‘
â•‘ â”‚     â”‚                                                                   â”‚ â•‘
â•‘ â”‚     â”œâ”€â”€â–¶ LOCAL SCORE (immediate): 81/100                                â”‚ â•‘
â•‘ â”‚     â”‚      - naturalLanguage: 13/15                                     â”‚ â•‘
â•‘ â”‚     â”‚      - emotionalTiming: 18/20                                     â”‚ â•‘
â•‘ â”‚     â”‚      - brevityControl: 14/15                                      â”‚ â•‘
â•‘ â”‚     â”‚      - memoryUse: 12/15                                           â”‚ â•‘
â•‘ â”‚     â”‚      - imperfection: 9/10                                         â”‚ â•‘
â•‘ â”‚     â”‚      - personalityConsistency: 11/15                              â”‚ â•‘
â•‘ â”‚     â”‚      - avoidedAITicks: 4/10 (could be more unique)                â”‚ â•‘
â•‘ â”‚     â”‚                                                                   â”‚ â•‘
â•‘ â”‚     â””â”€â”€â–¶ CLAUDE SCORE (background): 84/100                              â”‚ â•‘
â•‘ â”‚            - More detailed breakdown                                    â”‚ â•‘
â•‘ â”‚            - Saved for training data                                    â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â”‚  TRAINING DATA SAVED:                                                   â”‚ â•‘
â•‘ â”‚  {                                                                      â”‚ â•‘
â•‘ â”‚    userMessage: "I've been anxious all week...",                        â”‚ â•‘
â•‘ â”‚    coachResponse: "A week of anxiety is exhausting...",                 â”‚ â•‘
â•‘ â”‚    profile: { cognitiveMode: "conceptual_systems", ... },               â”‚ â•‘
â•‘ â”‚    context: { energy: "low", mood: "anxious", ... },                    â”‚ â•‘
â•‘ â”‚    scores: { local: 81, claude: 84 }                                    â”‚ â•‘
â•‘ â”‚  }                                                                      â”‚ â•‘
â•‘ â”‚                                                                         â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                              â”‚                                               â•‘
â•‘                              â–¼                                               â•‘
â•‘   USER SEES:                                                                 â•‘
â•‘     "A week of anxiety is exhausting. What's been weighing on you?"         â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Learning & Adaptation Flow

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    HOW THE SYSTEM LEARNS & ADAPTS                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘                          IMMEDIATE LEARNING                                  â•‘
â•‘                         (Same Session)                                       â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â”‚   User sends message                                                   â”‚  â•‘
â•‘ â”‚          â”‚                                                             â”‚  â•‘
â•‘ â”‚          â–¼                                                             â”‚  â•‘
â•‘ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                    â”‚  â•‘
â•‘ â”‚   â”‚ Extract      â”‚â”€â”€â–¶ Updates session context:                        â”‚  â•‘
â•‘ â”‚   â”‚ signals      â”‚    â€¢ Current mood                                  â”‚  â•‘
â•‘ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â€¢ Energy level                                  â”‚  â•‘
â•‘ â”‚                       â€¢ Topics discussed                              â”‚  â•‘
â•‘ â”‚                       â€¢ Emotional arc                                 â”‚  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â”‚   Next response immediately adapts to new context                     â”‚  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                              â•‘
â•‘                          SHORT-TERM LEARNING                                 â•‘
â•‘                          (This Week)                                         â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â”‚   Session ends                                                         â”‚  â•‘
â•‘ â”‚          â”‚                                                             â”‚  â•‘
â•‘ â”‚          â–¼                                                             â”‚  â•‘
â•‘ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                    â”‚  â•‘
â•‘ â”‚   â”‚ Memory tier  â”‚â”€â”€â–¶ Short-term memory updated:                      â”‚  â•‘
â•‘ â”‚   â”‚ update       â”‚    â€¢ Recent topics                                 â”‚  â•‘
â•‘ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â€¢ What helped                                   â”‚  â•‘
â•‘ â”‚                       â€¢ What didn't                                   â”‚  â•‘
â•‘ â”‚                       â€¢ Unresolved threads                            â”‚  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â”‚   Next session knows where we left off                                â”‚  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                              â•‘
â•‘                          MID-TERM LEARNING                                   â•‘
â•‘                          (Weekly)                                            â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â”‚   Week ends                                                            â”‚  â•‘
â•‘ â”‚          â”‚                                                             â”‚  â•‘
â•‘ â”‚          â–¼                                                             â”‚  â•‘
â•‘ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                    â”‚  â•‘
â•‘ â”‚   â”‚ Claude       â”‚â”€â”€â–¶ Compresses week into:                           â”‚  â•‘
â•‘ â”‚   â”‚ compression  â”‚    â€¢ Weekly themes                                 â”‚  â•‘
â•‘ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â€¢ Recurring patterns                            â”‚  â•‘
â•‘ â”‚                       â€¢ Progress notes                                â”‚  â•‘
â•‘ â”‚                       â€¢ Things to monitor                             â”‚  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â”‚   Coach has bigger picture of user's journey                          â”‚  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                              â•‘
â•‘                          LONG-TERM LEARNING                                  â•‘
â•‘                          (Ongoing)                                           â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â”‚   Months of interaction                                                â”‚  â•‘
â•‘ â”‚          â”‚                                                             â”‚  â•‘
â•‘ â”‚          â–¼                                                             â”‚  â•‘
â•‘ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                    â”‚  â•‘
â•‘ â”‚   â”‚ Long-term    â”‚â”€â”€â–¶ Core identity builds:                           â”‚  â•‘
â•‘ â”‚   â”‚ memory       â”‚    â€¢ What techniques work for them                 â”‚  â•‘
â•‘ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â€¢ Their triggers                                â”‚  â•‘
â•‘ â”‚                       â€¢ Their strengths                               â”‚  â•‘
â•‘ â”‚                       â€¢ Life context changes                          â”‚  â•‘
â•‘ â”‚                       â€¢ Growth patterns                               â”‚  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â”‚   Coach deeply understands this specific person                       â”‚  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                              â•‘
â•‘                          SYSTEM-WIDE LEARNING                                â•‘
â•‘                          (All Users â†’ Better Model)                          â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â•‘
â•‘ â”‚   â”‚                                                          â”‚        â”‚  â•‘
â•‘ â”‚   â”‚   Every conversation                                     â”‚        â”‚  â•‘
â•‘ â”‚   â”‚          â”‚                                               â”‚        â”‚  â•‘
â•‘ â”‚   â”‚          â–¼                                               â”‚        â”‚  â•‘
â•‘ â”‚   â”‚   Score + save as training data                          â”‚        â”‚  â•‘
â•‘ â”‚   â”‚          â”‚                                               â”‚        â”‚  â•‘
â•‘ â”‚   â”‚          â–¼                                               â”‚        â”‚  â•‘
â•‘ â”‚   â”‚   When 500+ examples:                                    â”‚        â”‚  â•‘
â•‘ â”‚   â”‚   â””â”€â”€â–¶ Train local scorer                                â”‚        â”‚  â•‘
â•‘ â”‚   â”‚                                                          â”‚        â”‚  â•‘
â•‘ â”‚   â”‚   When 2000+ examples + insights + corrections:          â”‚        â”‚  â•‘
â•‘ â”‚   â”‚   â””â”€â”€â–¶ Fine-tune local LLM                               â”‚        â”‚  â•‘
â•‘ â”‚   â”‚                                                          â”‚        â”‚  â•‘
â•‘ â”‚   â”‚   Local LLM becomes smarter for EVERYONE                 â”‚        â”‚  â•‘
â•‘ â”‚   â”‚                                                          â”‚        â”‚  â•‘
â•‘ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â”‚   + Interview insights flow into kernel + training data               â”‚  â•‘
â•‘ â”‚   + User corrections improve next generation                          â”‚  â•‘
â•‘ â”‚                                                                        â”‚  â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## LLM Input/Output

### Current: Claude API

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         CLAUDE API INPUT/OUTPUT                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                            â•‘
â•‘   INPUT TO CLAUDE:                                                         â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â”‚   {                                                                 â”‚ â•‘
â•‘   â”‚     "model": "claude-sonnet-4-20250514",                             â”‚ â•‘
â•‘   â”‚     "max_tokens": 1024,                                             â”‚ â•‘
â•‘   â”‚     "system": "                                                     â”‚ â•‘
â•‘   â”‚       === CORE PRINCIPLES ===                                       â”‚ â•‘
â•‘   â”‚       {getPrincipleContextForLLM()}                                 â”‚ â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â”‚       === THIS USER ===                                             â”‚ â•‘
â•‘   â”‚       {getCognitiveProfileContextForLLM()}                          â”‚ â•‘
â•‘   â”‚       {getNeurologicalContextForLLM()}                              â”‚ â•‘
â•‘   â”‚       {getConnectionContextForLLM()}                                â”‚ â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â”‚       === MEMORY ===                                                â”‚ â•‘
â•‘   â”‚       {getMemoryContext()}                                          â”‚ â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â”‚       === DIRECTIVES ===                                            â”‚ â•‘
â•‘   â”‚       {responseDirectives}                                          â”‚ â•‘
â•‘   â”‚     ",                                                              â”‚ â•‘
â•‘   â”‚     "messages": [                                                   â”‚ â•‘
â•‘   â”‚       { "role": "user", "content": userMessage }                    â”‚ â•‘
â•‘   â”‚     ]                                                               â”‚ â•‘
â•‘   â”‚   }                                                                 â”‚ â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                            â•‘
â•‘   OUTPUT FROM CLAUDE:                                                      â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â”‚   {                                                                 â”‚ â•‘
â•‘   â”‚     "content": [                                                    â”‚ â•‘
â•‘   â”‚       {                                                             â”‚ â•‘
â•‘   â”‚         "type": "text",                                             â”‚ â•‘
â•‘   â”‚         "text": "A week of anxiety is exhausting..."                â”‚ â•‘
â•‘   â”‚       }                                                             â”‚ â•‘
â•‘   â”‚     ],                                                              â”‚ â•‘
â•‘   â”‚     "stop_reason": "end_turn",                                      â”‚ â•‘
â•‘   â”‚     "usage": { "input_tokens": 1523, "output_tokens": 47 }          â”‚ â•‘
â•‘   â”‚   }                                                                 â”‚ â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                            â•‘
â•‘   THEN: Output validated against kernel constraints                       â•‘
â•‘   THEN: Output scored for human-ness                                      â•‘
â•‘   THEN: Output shown to user                                              â•‘
â•‘                                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Future: Local LLM

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                       LOCAL LLM INPUT/OUTPUT (FUTURE)                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                            â•‘
â•‘   INPUT TO LOCAL LLM:                                                      â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â”‚   <|im_start|>system                                                â”‚ â•‘
â•‘   â”‚   You are a Mood Leaf coach. Fine-tuned to understand humans.       â”‚ â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â”‚   USER PROFILE:                                                     â”‚ â•‘
â•‘   â”‚   - Cognitive mode: conceptual_systems                              â”‚ â•‘
â•‘   â”‚   - Rhythm: burst_recovery                                          â”‚ â•‘
â•‘   â”‚   - Current energy: low                                             â”‚ â•‘
â•‘   â”‚   - Needs validation before advice                                  â”‚ â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â”‚   DIRECTIVES:                                                       â”‚ â•‘
â•‘   â”‚   - Keep brief (low energy user)                                    â”‚ â•‘
â•‘   â”‚   - Validate first                                                  â”‚ â•‘
â•‘   â”‚   - Gentle tone                                                     â”‚ â•‘
â•‘   â”‚   <|im_end|>                                                        â”‚ â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â”‚   <|im_start|>user                                                  â”‚ â•‘
â•‘   â”‚   I've been anxious all week and can't focus                        â”‚ â•‘
â•‘   â”‚   <|im_end|>                                                        â”‚ â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â”‚   <|im_start|>assistant                                             â”‚ â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                            â•‘
â•‘   LOCAL LLM GENERATES:                                                     â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â”‚   "A week of that sounds heavy. What's pulling at you?"             â”‚ â•‘
â•‘   â”‚                                                                     â”‚ â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                            â•‘
â•‘   THEN: Score with local scorer                                           â•‘
â•‘   THEN: Validate against kernel                                           â•‘
â•‘   THEN: If passes, show to user                                           â•‘
â•‘   THEN: If fails, try again OR escalate to Claude                         â•‘
â•‘                                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Data Flow Diagram

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        COMPLETE DATA FLOW                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘                           DATA SOURCES                                       â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘
â•‘   â”‚ Onboarding  â”‚   â”‚Conversationsâ”‚   â”‚ Interviews  â”‚   â”‚  Feedback   â”‚    â•‘
â•‘   â”‚ Questions   â”‚   â”‚             â”‚   â”‚             â”‚   â”‚             â”‚    â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â•‘
â•‘          â”‚                 â”‚                 â”‚                 â”‚            â•‘
â•‘          â–¼                 â–¼                 â–¼                 â–¼            â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â”‚                    LOCAL STORAGE (AsyncStorage)                     â”‚  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â•‘
â•‘   â”‚  â”‚ Cognitive   â”‚  â”‚ Memory      â”‚  â”‚ Training    â”‚  â”‚ Connectionâ”‚  â”‚  â•‘
â•‘   â”‚  â”‚ Profile     â”‚  â”‚ Tiers       â”‚  â”‚ Data        â”‚  â”‚ Health    â”‚  â”‚  â•‘
â•‘   â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚           â”‚  â”‚  â•‘
â•‘   â”‚  â”‚ â€¢ Modes     â”‚  â”‚ â€¢ Short     â”‚  â”‚ â€¢ Scored    â”‚  â”‚ â€¢ Isolationâ”‚  â”‚  â•‘
â•‘   â”‚  â”‚ â€¢ Rhythms   â”‚  â”‚ â€¢ Mid       â”‚  â”‚   exchanges â”‚  â”‚   level   â”‚  â”‚  â•‘
â•‘   â”‚  â”‚ â€¢ Neuro     â”‚  â”‚ â€¢ Long      â”‚  â”‚ â€¢ Insights  â”‚  â”‚ â€¢ Support â”‚  â”‚  â•‘
â•‘   â”‚  â”‚ â€¢ Prefs     â”‚  â”‚             â”‚  â”‚ â€¢ Correct.  â”‚  â”‚   network â”‚  â”‚  â•‘
â•‘   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚  â•‘
â•‘   â”‚         â”‚                â”‚                â”‚               â”‚         â”‚  â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘             â”‚                â”‚                â”‚               â”‚            â•‘
â•‘             â–¼                â–¼                â–¼               â–¼            â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â”‚                    CONTEXT ASSEMBLY LAYER                           â”‚  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â”‚                claudeAPIService.buildContext()                      â”‚  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                     â”‚                                      â•‘
â•‘                                     â–¼                                      â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â”‚                          LLM LAYER                                  â”‚  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â•‘
â•‘   â”‚       â”‚  CLAUDE API   â”‚           â”‚  LOCAL LLM    â”‚                â”‚  â•‘
â•‘   â”‚       â”‚  (Current)    â”‚           â”‚  (Future)     â”‚                â”‚  â•‘
â•‘   â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â•‘
â•‘   â”‚               â”‚                           â”‚                         â”‚  â•‘
â•‘   â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚  â•‘
â•‘   â”‚                           â”‚                                         â”‚  â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                               â”‚                                            â•‘
â•‘                               â–¼                                            â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â”‚                    VALIDATION LAYER                                 â”‚  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â•‘
â•‘   â”‚    â”‚ Kernel Checks    â”‚        â”‚ Human-ness Score â”‚                â”‚  â•‘
â•‘   â”‚    â”‚                  â”‚        â”‚                  â”‚                â”‚  â•‘
â•‘   â”‚    â”‚ Hard constraints â”‚        â”‚ Local scorer     â”‚                â”‚  â•‘
â•‘   â”‚    â”‚ Soft principles  â”‚        â”‚ (+ Claude bg)    â”‚                â”‚  â•‘
â•‘   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â•‘
â•‘   â”‚             â”‚                           â”‚                          â”‚  â•‘
â•‘   â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚  â•‘
â•‘   â”‚                         â”‚                                          â”‚  â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                             â”‚                                              â•‘
â•‘                             â–¼                                              â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â”‚                         OUTPUT                                      â”‚  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â”‚    Response to User  â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  Training Data Saved         â”‚  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Training Pipeline

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                       TRAINING PIPELINE                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘   PHASE 1: DATA COLLECTION (NOW)                                            â•‘
â•‘   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â•‘
â•‘                                                                              â•‘
â•‘   Every conversation                Interview imports                        â•‘
â•‘         â”‚                                 â”‚                                  â•‘
â•‘         â–¼                                 â–¼                                  â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â•‘
â•‘   â”‚ Score with  â”‚                 â”‚ Admin       â”‚                           â•‘
â•‘   â”‚ Claude (bg) â”‚                 â”‚ reviews     â”‚                           â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                           â•‘
â•‘          â”‚                               â”‚                                   â•‘
â•‘          â–¼                               â–¼                                   â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â•‘
â•‘   â”‚ Save scored â”‚                 â”‚ Save        â”‚                           â•‘
â•‘   â”‚ exchange    â”‚                 â”‚ insight     â”‚                           â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                           â•‘
â•‘          â”‚                               â”‚                                   â•‘
â•‘          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â•‘
â•‘                          â”‚                                                   â•‘
â•‘                          â–¼                                                   â•‘
â•‘              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â•‘
â•‘              â”‚   LOCAL STORAGE     â”‚                                        â•‘
â•‘              â”‚                     â”‚                                        â•‘
â•‘              â”‚   Target: 500+      â”‚                                        â•‘
â•‘              â”‚   Claude examples   â”‚                                        â•‘
â•‘              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â•‘
â•‘                                                                              â•‘
â•‘   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â•‘
â•‘                                                                              â•‘
â•‘   PHASE 2: LOCAL SCORER TRAINING                                            â•‘
â•‘   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                            â•‘
â•‘                                                                              â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â”‚   500+ Claude-scored examples                                       â”‚  â•‘
â•‘   â”‚            â”‚                                                        â”‚  â•‘
â•‘   â”‚            â–¼                                                        â”‚  â•‘
â•‘   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚  â•‘
â•‘   â”‚   â”‚ Export as JSON  â”‚                                               â”‚  â•‘
â•‘   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚  â•‘
â•‘   â”‚            â”‚                                                        â”‚  â•‘
â•‘   â”‚            â–¼                                                        â”‚  â•‘
â•‘   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚  â•‘
â•‘   â”‚   â”‚ Train small     â”‚  DistilBERT / Custom classifier               â”‚  â•‘
â•‘   â”‚   â”‚ classifier      â”‚  Input: message + response + profile          â”‚  â•‘
â•‘   â”‚   â”‚                 â”‚  Output: score (0-100)                        â”‚  â•‘
â•‘   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚  â•‘
â•‘   â”‚            â”‚                                                        â”‚  â•‘
â•‘   â”‚            â–¼                                                        â”‚  â•‘
â•‘   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚  â•‘
â•‘   â”‚   â”‚ Validate        â”‚  Must correlate 85%+ with Claude              â”‚  â•‘
â•‘   â”‚   â”‚ accuracy        â”‚                                               â”‚  â•‘
â•‘   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚  â•‘
â•‘   â”‚            â”‚                                                        â”‚  â•‘
â•‘   â”‚            â–¼                                                        â”‚  â•‘
â•‘   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚  â•‘
â•‘   â”‚   â”‚ Export to       â”‚  CoreML for iOS, ONNX for cross-platform     â”‚  â•‘
â•‘   â”‚   â”‚ on-device       â”‚                                               â”‚  â•‘
â•‘   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                              â•‘
â•‘   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â•‘
â•‘                                                                              â•‘
â•‘   PHASE 4: FINE-TUNE LOCAL LLM                                              â•‘
â•‘   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â•‘
â•‘                                                                              â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â”‚   TRAINING DATA ASSEMBLY:                                           â”‚  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â•‘
â•‘   â”‚   â”‚ Conversations â”‚   â”‚ Insights      â”‚   â”‚ Corrections   â”‚        â”‚  â•‘
â•‘   â”‚   â”‚ 2000+         â”‚   â”‚ 50+           â”‚   â”‚ 100+          â”‚        â”‚  â•‘
â•‘   â”‚   â”‚               â”‚   â”‚               â”‚   â”‚               â”‚        â”‚  â•‘
â•‘   â”‚   â”‚ High-scoring  â”‚   â”‚ Turned into   â”‚   â”‚ Badâ†’Good      â”‚        â”‚  â•‘
â•‘   â”‚   â”‚ examples      â”‚   â”‚ examples      â”‚   â”‚ pairs         â”‚        â”‚  â•‘
â•‘   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â•‘
â•‘   â”‚           â”‚                   â”‚                   â”‚                 â”‚  â•‘
â•‘   â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â•‘
â•‘   â”‚                               â”‚                                     â”‚  â•‘
â•‘   â”‚                               â–¼                                     â”‚  â•‘
â•‘   â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚  â•‘
â•‘   â”‚                   â”‚  TRAINING DATASET     â”‚                         â”‚  â•‘
â•‘   â”‚                   â”‚                       â”‚                         â”‚  â•‘
â•‘   â”‚                   â”‚  Format: JSONL        â”‚                         â”‚  â•‘
â•‘   â”‚                   â”‚  { input, output }    â”‚                         â”‚  â•‘
â•‘   â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚  â•‘
â•‘   â”‚                               â”‚                                     â”‚  â•‘
â•‘   â”‚                               â–¼                                     â”‚  â•‘
â•‘   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â•‘
â•‘   â”‚   â”‚                   FINE-TUNING                               â”‚  â”‚  â•‘
â•‘   â”‚   â”‚                                                             â”‚  â”‚  â•‘
â•‘   â”‚   â”‚   Base: Mistral 7B                                          â”‚  â”‚  â•‘
â•‘   â”‚   â”‚                                                             â”‚  â”‚  â•‘
â•‘   â”‚   â”‚   Step 1: SFT (Supervised Fine-Tuning)                      â”‚  â”‚  â•‘
â•‘   â”‚   â”‚   â””â”€â”€ Train on high-scoring examples                        â”‚  â”‚  â•‘
â•‘   â”‚   â”‚                                                             â”‚  â”‚  â•‘
â•‘   â”‚   â”‚   Step 2: DPO (Direct Preference Optimization)              â”‚  â”‚  â•‘
â•‘   â”‚   â”‚   â””â”€â”€ Train on good/bad pairs                               â”‚  â”‚  â•‘
â•‘   â”‚   â”‚                                                             â”‚  â”‚  â•‘
â•‘   â”‚   â”‚   Method: QLoRA (memory efficient)                          â”‚  â”‚  â•‘
â•‘   â”‚   â”‚   Hardware: A100 GPU (16GB+ VRAM)                           â”‚  â”‚  â•‘
â•‘   â”‚   â”‚                                                             â”‚  â”‚  â•‘
â•‘   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â•‘
â•‘   â”‚                               â”‚                                     â”‚  â•‘
â•‘   â”‚                               â–¼                                     â”‚  â•‘
â•‘   â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚  â•‘
â•‘   â”‚                   â”‚  MOOD LEAF LLM        â”‚                         â”‚  â•‘
â•‘   â”‚                   â”‚                       â”‚                         â”‚  â•‘
â•‘   â”‚                   â”‚  Fine-tuned model     â”‚                         â”‚  â•‘
â•‘   â”‚                   â”‚  that "gets" humans   â”‚                         â”‚  â•‘
â•‘   â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚  â•‘
â•‘   â”‚                                                                     â”‚  â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Quick Reference

### Services by Purpose

| Purpose | Service | Key Functions |
|---------|---------|---------------|
| **User Understanding** | `cognitiveProfileService.ts` | How they think, rhythms, modes |
| | `neurologicalDifferencesService.ts` | Aphantasia, inner monologue |
| | `socialConnectionHealthService.ts` | Isolation, external support |
| **Constitutional** | `corePrincipleKernel.ts` | Beliefs, constraints, validation |
| **Memory** | `memoryTierService.ts` | Short/mid/long term storage |
| **AI** | `claudeAPIService.ts` | Builds prompts, calls Claude |
| | `conversationController.ts` | Response directives, timing |
| | `humanScoreService.ts` | Quality scoring |
| **Training** | `trainingDataService.ts` | Insights, corrections, export |

### Data Storage Locations

| Data | Where | Persistence |
|------|-------|-------------|
| Cognitive profile | AsyncStorage | Local, permanent |
| Memory tiers | AsyncStorage | Local, permanent |
| Connection health | AsyncStorage | Local, permanent |
| Training data | AsyncStorage | Local, exportable |
| Conversation history | AsyncStorage | Local, compressible |
| Principle overrides | AsyncStorage + Backend | Local + sync |

---

---

## What Training Data Trains

Each type of training data teaches the model specific capabilities:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    WHAT EACH DATA TYPE TRAINS                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘   SCORED CONVERSATIONS                                                       â•‘
â•‘   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                       â•‘
â•‘                                                                              â•‘
â•‘   What it is:                                                                â•‘
â•‘   â€¢ Real user messages + coach responses + human-ness scores                 â•‘
â•‘   â€¢ Context (mood, energy, profile, message number)                          â•‘
â•‘   â€¢ Scores across 7 dimensions (0-100 total)                                 â•‘
â•‘                                                                              â•‘
â•‘   What it trains:                                                            â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘   â”‚ ASPECT                    â”‚ HOW IT IMPROVES THE MODEL               â”‚   â•‘
â•‘   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â•‘
â•‘   â”‚ Response Tone             â”‚ Natural, warm, human-like phrasing      â”‚   â•‘
â•‘   â”‚ Emotional Timing          â”‚ When to validate vs. when to advise     â”‚   â•‘
â•‘   â”‚ Brevity Control           â”‚ Short for low energy, longer when OK    â”‚   â•‘
â•‘   â”‚ Profile Adaptation        â”‚ Different styles for different minds    â”‚   â•‘
â•‘   â”‚ Context Awareness         â”‚ Using memory, referring to past topics  â”‚   â•‘
â•‘   â”‚ Avoiding AI-isms          â”‚ No "As an AI...", no over-enthusiasm    â”‚   â•‘
â•‘   â”‚ Consistency               â”‚ Same personality across conversations   â”‚   â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                                                              â•‘
â•‘   High-scoring examples teach the model:                                     â•‘
â•‘   "When a low-energy user shares anxiety, respond briefly with              â•‘
â•‘    validation first, then a gentle question."                               â•‘
â•‘                                                                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘   INTERVIEW INSIGHTS                                                         â•‘
â•‘   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                         â•‘
â•‘                                                                              â•‘
â•‘   What it is:                                                                â•‘
â•‘   â€¢ Learnings from user research and interviews                              â•‘
â•‘   â€¢ Direct quotes capturing how humans think/feel                            â•‘
â•‘   â€¢ Coaching implications (how to adapt)                                     â•‘
â•‘   â€¢ Categorized by aspect of human experience                                â•‘
â•‘                                                                              â•‘
â•‘   What it trains:                                                            â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘   â”‚ CATEGORY                  â”‚ WHAT THE MODEL LEARNS                   â”‚   â•‘
â•‘   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â•‘
â•‘   â”‚ cognitive_patterns        â”‚ How different minds process information â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Visual vs verbal thinkers             â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Systems vs experiential processing    â”‚   â•‘
â•‘   â”‚                           â”‚                                         â”‚   â•‘
â•‘   â”‚ emotional_processing      â”‚ How people experience emotions          â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Delayed emotional recognition         â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Somatic vs cognitive feelings         â”‚   â•‘
â•‘   â”‚                           â”‚                                         â”‚   â•‘
â•‘   â”‚ neurological_differences  â”‚ How brains differ                       â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Aphantasia (no mental imagery)        â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ ADHD patterns                         â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Inner monologue presence/absence      â”‚   â•‘
â•‘   â”‚                           â”‚                                         â”‚   â•‘
â•‘   â”‚ communication_needs       â”‚ How people want to be talked to         â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Validation-first vs solution-first    â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Direct vs gentle approaches           â”‚   â•‘
â•‘   â”‚                           â”‚                                         â”‚   â•‘
â•‘   â”‚ motivation_patterns       â”‚ What moves people to action             â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Interest-based vs importance-based    â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Body doubling, accountability styles  â”‚   â•‘
â•‘   â”‚                           â”‚                                         â”‚   â•‘
â•‘   â”‚ relationship_with_self    â”‚ Self-perception and inner dialogue      â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Self-compassion levels                â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Inner critic patterns                 â”‚   â•‘
â•‘   â”‚                           â”‚                                         â”‚   â•‘
â•‘   â”‚ crisis_patterns           â”‚ What crisis looks/feels like            â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Warning signs specific to types       â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ What helps vs. what makes it worse    â”‚   â•‘
â•‘   â”‚                           â”‚                                         â”‚   â•‘
â•‘   â”‚ recovery_patterns         â”‚ What healing looks like                 â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Non-linear progress                   â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Different paths for different people  â”‚   â•‘
â•‘   â”‚                           â”‚                                         â”‚   â•‘
â•‘   â”‚ daily_rhythms             â”‚ Energy and mood patterns                â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Morning people vs night owls          â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Burst/crash cycles                    â”‚   â•‘
â•‘   â”‚                           â”‚                                         â”‚   â•‘
â•‘   â”‚ social_dynamics           â”‚ How connection affects wellbeing        â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Introvert recharge patterns           â”‚   â•‘
â•‘   â”‚                           â”‚ â†’ Isolation warning signs               â”‚   â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                                                              â•‘
â•‘   Insights teach the model:                                                  â•‘
â•‘   "People with aphantasia can't do visualization exercises. Never           â•‘
â•‘    say 'picture yourself...' or 'imagine the scene...' to them."            â•‘
â•‘                                                                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘   COACH CORRECTIONS                                                          â•‘
â•‘   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                          â•‘
â•‘                                                                              â•‘
â•‘   What it is:                                                                â•‘
â•‘   â€¢ Bad response â†’ Good response pairs                                       â•‘
â•‘   â€¢ What was wrong with the original                                         â•‘
â•‘   â€¢ Context of when the mistake happened                                     â•‘
â•‘                                                                              â•‘
â•‘   What it trains:                                                            â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘   â”‚ CORRECTION TYPE           â”‚ WHAT THE MODEL LEARNS                   â”‚   â•‘
â•‘   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â•‘
â•‘   â”‚ Tone corrections          â”‚ "Too clinical" â†’ warm, human language   â”‚   â•‘
â•‘   â”‚ Timing corrections        â”‚ "Advice too early" â†’ validate first     â”‚   â•‘
â•‘   â”‚ Length corrections        â”‚ "Too long for low energy" â†’ be brief    â”‚   â•‘
â•‘   â”‚ Assumption corrections    â”‚ "Assumed wrong" â†’ ask, don't assume     â”‚   â•‘
â•‘   â”‚ Safety corrections        â”‚ "Missed crisis" â†’ recognize signs       â”‚   â•‘
â•‘   â”‚ Profile mismatches        â”‚ "Wrong for this brain" â†’ adapt style    â”‚   â•‘
â•‘   â”‚ Boundary violations       â”‚ "Acted like therapist" â†’ stay in role   â”‚   â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                                                              â•‘
â•‘   Used in DPO (Direct Preference Optimization):                              â•‘
â•‘   "Given this input, prefer this response over that response"               â•‘
â•‘                                                                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘   TRAINING OUTCOME: A MODEL THAT...                                          â•‘
â•‘   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                            â•‘
â•‘                                                                              â•‘
â•‘   âœ“ Sounds human, not robotic                                               â•‘
â•‘   âœ“ Adapts to different cognitive profiles                                  â•‘
â•‘   âœ“ Knows when to validate vs. when to advise                               â•‘
â•‘   âœ“ Respects neurological differences                                       â•‘
â•‘   âœ“ Recognizes crisis without over-reacting                                 â•‘
â•‘   âœ“ Encourages human connection, not app dependency                         â•‘
â•‘   âœ“ Maintains consistent personality                                        â•‘
â•‘   âœ“ Uses memory appropriately                                               â•‘
â•‘   âœ“ Stays within ethical boundaries                                         â•‘
â•‘   âœ“ Gets better with each conversation                                      â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Training Data Sources

| Source | Collection Method | Used For |
|--------|------------------|----------|
| **Conversations** | Automatic (every chat with consent) | Response quality, tone, timing |
| **Interviews** | Manual (admin imports insights) | Human understanding, patterns |
| **Corrections** | Manual (admin reviews flagged responses) | Error correction, preferences |
| **Research** | Manual (admin imports from papers) | Evidence-based practices |
| **User Feedback** | Automatic (ratings, corrections) | Real-world validation |

### Batch Import for Interview Links

For importing multiple interview insights at once (e.g., from research sessions), use the batch import feature:

1. Prepare a JSON file with your insights
2. Go to Admin â†’ Training â†’ Import â†’ Batch Import
3. Upload or paste the JSON
4. Review and approve each insight

**Batch Import JSON Format:**
```json
{
  "source": "Q1 2025 User Research",
  "insights": [
    {
      "category": "cognitive_patterns",
      "title": "Systems thinkers need the 'why' first",
      "insight": "Users who think in systems won't accept advice until they understand the underlying logic.",
      "quotes": ["I can't just do something because you said so. I need to understand why it works."],
      "coachingImplication": "Always explain the reasoning before suggesting an action.",
      "confidenceLevel": "validated"
    },
    {
      "category": "emotional_processing",
      "title": "Body signals precede conscious emotion",
      "insight": "Many users notice physical sensations (tight chest, tension) before recognizing the emotion.",
      "quotes": ["I didn't realize I was anxious until I noticed my shoulders were up by my ears."],
      "coachingImplication": "Ask about body sensations, not just 'how do you feel?'",
      "confidenceLevel": "observed"
    }
  ]
}
```

**Interview Links Import:**
For importing from interview recordings/notes stored externally:

```json
{
  "source": "Interview Session Links",
  "interviewLinks": [
    {
      "interviewId": "INT-001",
      "participantId": "P12",
      "date": "2025-01-15",
      "link": "https://notion.so/interviews/p12-session",
      "insights": [
        {
          "category": "communication_needs",
          "title": "Direct questions feel invasive",
          "insight": "This participant prefers oblique check-ins over direct 'how are you feeling?'",
          "quotes": ["When you ask me directly, I freeze up."],
          "coachingImplication": "Offer observation-based openings like 'You seem a bit quiet today'",
          "confidenceLevel": "observed"
        }
      ]
    }
  ]
}
```

---

This document should give you a complete picture of how Mood Leaf works, where we are now, and where we're headed. Every conversation teaches the system something new, and eventually that learning compounds into a local model that deeply understands how humans work.

---

**Document Maintenance:**
- Update milestone status as progress is made
- Add new insights to "What Training Data Trains" as categories emerge
- Revise tech stack evolution as costs/latency change
- Keep this as the single source of truth for system architecture
